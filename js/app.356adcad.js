(function(e){function t(t){for(var r,i,a=t[0],u=t[1],l=t[2],s=0,d=[];s<a.length;s++)i=a[s],Object.prototype.hasOwnProperty.call(c,i)&&c[i]&&d.push(c[i][0]),c[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);b&&b(t);while(d.length)d.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==c[u]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},c={app:0},o=[];function i(e){return a.p+"js/"+({about:"about"}[e]||e)+"."+{about:"bd749696"}[e]+".js"}function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=c[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=c[e]=[t,r]}));t.push(n[2]=r);var o,u=document.createElement("script");u.charset="utf-8",u.timeout=120,a.nc&&u.setAttribute("nonce",a.nc),u.src=i(e);var l=new Error;o=function(t){u.onerror=u.onload=null,clearTimeout(s);var n=c[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",l.name="ChunkLoadError",l.type=r,l.request=o,n[1](l)}c[e]=void 0}};var s=setTimeout((function(){o({type:"timeout",target:u})}),12e4);u.onerror=u.onload=o,document.head.appendChild(u)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/",a.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var b=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"08a7":function(e,t,n){"use strict";n("e802")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("7a23"),c={id:"nav"},o=Object(r["h"])("Home"),i=Object(r["h"])(" | "),a=Object(r["h"])("About"),u=Object(r["h"])(" | "),l=Object(r["h"])(" Login "),s=Object(r["h"])(" | "),b=Object(r["h"])(" Profile "),d=Object(r["h"])(" | ");function f(e,t,n,f,h,p){var j=Object(r["y"])("router-link"),O=Object(r["y"])("router-view");return Object(r["r"])(),Object(r["f"])(r["a"],null,[Object(r["g"])("div",c,[Object(r["i"])(j,{to:"/"},{default:Object(r["E"])((function(){return[o]})),_:1}),i,Object(r["i"])(j,{to:"/about"},{default:Object(r["E"])((function(){return[a]})),_:1}),u,e.authenticated?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["d"])(j,{key:0,to:"/login"},{default:Object(r["E"])((function(){return[l]})),_:1})),s,e.authenticated?(Object(r["r"])(),Object(r["d"])(j,{key:1,to:"/profile"},{default:Object(r["E"])((function(){return[b]})),_:1})):Object(r["e"])("",!0),d,e.authenticated?(Object(r["r"])(),Object(r["f"])("a",{key:2,onClick:t[0]||(t[0]=function(e){return p.logout()})}," Logout ")):Object(r["e"])("",!0)]),Object(r["i"])(O)],64)}var h=n("1da1"),p=(n("96cf"),{name:"app",data:function(){return{authenticated:!1}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.isAuthenticated();case 2:e.$auth.authStateManager.subscribe(e.isAuthenticated);case 3:case"end":return t.stop()}}),t)})))()},watch:{$route:"isAuthenticated"},methods:{isAuthenticated:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.isAuthenticated();case 2:e.authenticated=t.sent;case 3:case"end":return t.stop()}}),t)})))()},logout:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$auth.signOut();case 2:case"end":return t.stop()}}),t)})))()}}}),j=(n("08a7"),n("6b0d")),O=n.n(j);const m=O()(p,[["render",f]]);var g=m,v=(n("d3b7"),n("3ca3"),n("ddb0"),n("6c02")),y=n("7b13"),w=(n("b0c0"),{id:"home",class:"home"}),k={key:0},x=Object(r["g"])("p",null,"Hello, Vue.",-1),A=Object(r["h"])(" Login "),F={key:1},P=Object(r["g"])("p",null,[Object(r["h"])(" You have successfully authenticated with Okta! Visit the "),Object(r["g"])("a",{href:"/profile"},"My Profile"),Object(r["h"])(" page to take a look inside the ID token. ")],-1);function R(e,t,n,c,o,i){var a=Object(r["y"])("router-link"),u=Object(r["y"])("DynamicForm");return Object(r["r"])(),Object(r["f"])("div",w,[this.$root.authenticated?Object(r["e"])("",!0):(Object(r["r"])(),Object(r["f"])("div",k,[x,Object(r["i"])(a,{role:"button",to:"/login"},{default:Object(r["E"])((function(){return[A]})),_:1})])),this.$root.authenticated?(Object(r["r"])(),Object(r["f"])("div",F,[Object(r["g"])("p",null,"Welcome back, "+Object(r["A"])(e.claims.name)+"!",1),P])):Object(r["e"])("",!0),Object(r["i"])(u,{title:"Let's talk to the backend!"})])}var C=function(e){return Object(r["u"])("data-v-5e0e5894"),e=e(),Object(r["s"])(),e},_=C((function(){return Object(r["g"])("thead",null,[Object(r["g"])("tr",null,[Object(r["g"])("th",null,"Name"),Object(r["g"])("th",null,"Price")])],-1)})),T={key:0},$=C((function(){return Object(r["g"])("td",{colspan:"2"},"No products yet",-1)})),E=[$];function S(e,t,n,c,o,i){return Object(r["r"])(),Object(r["f"])(r["a"],null,[Object(r["g"])("h3",null,Object(r["A"])(n.title),1),Object(r["g"])("div",null,[Object(r["F"])(Object(r["g"])("input",{"onUpdate:modelValue":t[0]||(t[0]=function(e){return o.nameField=e}),placeholder:"Name",type:"text",ref:"nameInput"},null,512),[[r["C"],o.nameField]]),Object(r["F"])(Object(r["g"])("input",{"onUpdate:modelValue":t[1]||(t[1]=function(e){return o.priceField=e}),placeholder:"Price",onKeyup:t[2]||(t[2]=Object(r["G"])((function(e){return i.save()}),["enter"]))},null,544),[[r["C"],o.priceField]]),Object(r["g"])("button",{type:"button",onClick:t[3]||(t[3]=function(e){return i.save()})},"Save"),Object(r["F"])(Object(r["g"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(e){return o.filterCrit=e}),placeholder:"filter criterion"},null,512),[[r["C"],o.filterCrit]])]),Object(r["g"])("div",null,[Object(r["g"])("table",null,[_,Object(r["g"])("tbody",null,[0===o.items.length?(Object(r["r"])(),Object(r["f"])("tr",T,E)):Object(r["e"])("",!0),(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(i.myFilterFunc(o.filterCrit),(function(e){return Object(r["r"])(),Object(r["f"])("tr",{key:e.id},[Object(r["g"])("td",null,Object(r["A"])(e.name),1),Object(r["g"])("td",null,Object(r["A"])(e.price),1)])})),128)),Object(r["g"])("tr",null,[Object(r["g"])("td",null,Object(r["A"])(o.nameField),1),Object(r["g"])("td",null,Object(r["A"])(o.priceField),1)])])])])],64)}n("4de4"),n("caad"),n("2532"),n("159b"),n("e9c4");var U={name:"DynamicForm",props:["title"],data:function(){return{items:[],nameField:"",priceField:"",claims:"",accessToken:"",filterCrit:""}},methods:{myFilterFunc:function(e){return this.items.filter((function(t){return e.length<1||t.name.toLowerCase().includes(e.toLowerCase())}))},loadThings:function(){var e=this,t="http://localhost:8080",n=this.claims.email,r=t+"/things?owner="+n,c={method:"GET",redirect:"follow"};fetch(r,c).then((function(e){return e.json()})).then((function(t){return t.forEach((function(t){e.items.push(t)}))})).catch((function(e){return console.log("error",e)}))},save:function(){var e="http://localhost:8080",t=e+"/things",n={name:this.nameField,price:this.priceField,owner:this.claims.email},r={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)};fetch(t,r).then((function(e){return e.json()})).then((function(e){console.log("Success:",e)})).catch((function(e){return console.log("error",e)}))},setup:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$root.authenticated){t.next=4;break}return t.next=3,e.$auth.getUser();case 3:e.claims=t.sent;case 4:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.setup();case 2:e.loadThings();case 3:case"end":return t.stop()}}),t)})))()},mounted:function(){}};n("d64d");const L=O()(U,[["render",S],["__scopeId","data-v-5e0e5894"]]);var I=L,M={name:"Home",components:{DynamicForm:I},data:function(){return{claims:""}},created:function(){this.setup()},methods:{setup:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$root.authenticated){t.next=4;break}return t.next=3,e.$auth.getUser();case 3:e.claims=t.sent;case 4:case"end":return t.stop()}}),t)})))()}}};const D=O()(M,[["render",R]]);var N=D,V={class:"login"},G=Object(r["g"])("div",{id:"okta-signin-container"},null,-1),H=[G];function q(e,t,n,c,o,i){return Object(r["r"])(),Object(r["f"])("div",V,H)}n("65ab");var J=n("4d6a"),Y=n.n(J),z=n("331d"),B=new Y.a({baseUrl:"https://dev-4978011.okta.com",clientId:"0oa3hzj56gAYGbvN25d7",redirectUri:"https://profwider.github.io/webtech-frontend//login/callback",authParams:{pkce:!0,issuer:"https://dev-4978011.okta.com/oauth2/default",display:"page",scopes:["openid","profile","email"]},features:{registration:!0}}),K=new z["b"]({issuer:"https://dev-4978011.okta.com/oauth2/default",clientId:"0oa3hzj56gAYGbvN25d7",redirectUri:window.location.origin+"/login/callback",scopes:["openid","profile","email"]}),W={name:"Login",mounted:function(){this.$nextTick((function(){B.showSignInAndRedirect({el:"#okta-signin-container"})}))},unmounted:function(){B.remove()}};const Q=O()(W,[["render",q]]);var X=Q,Z={id:"profile"},ee=Object(r["g"])("h1",null,"My User Profile (ID Token Claims)",-1),te=Object(r["g"])("p",null," Below is the information from your ID token. ",-1),ne=Object(r["g"])("thead",null,[Object(r["g"])("tr",null,[Object(r["g"])("th",null,"Claim"),Object(r["g"])("th",null,"Value")])],-1),re=["id"];function ce(e,t,n,c,o,i){return Object(r["r"])(),Object(r["f"])("div",Z,[ee,te,Object(r["g"])("table",null,[ne,Object(r["g"])("tbody",null,[(Object(r["r"])(!0),Object(r["f"])(r["a"],null,Object(r["x"])(o.claims,(function(e,t){return Object(r["r"])(),Object(r["f"])("tr",{key:t},[Object(r["g"])("td",null,Object(r["A"])(e.claim),1),Object(r["g"])("td",{id:"claim-"+e.claim},Object(r["A"])(e.value),9,re)])})),128))])])])}n("d81d"),n("4fadc");var oe={name:"Profile",data:function(){return{claims:[]}},created:function(){var e=this;return Object(h["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.t0=Object,t.next=3,e.$auth.getUser();case 3:return t.t1=t.sent,t.next=6,t.t0.entries.call(t.t0,t.t1).map((function(e){return{claim:e[0],value:e[1]}}));case 6:e.claims=t.sent;case 7:case"end":return t.stop()}}),t)})))()}};const ie=O()(oe,[["render",ce]]);var ae=ie,ue=[{path:"/",name:"Home",component:N},{path:"/about",name:"About",component:function(){return n.e("about").then(n.bind(null,"f820"))}},{path:"/login",component:X},{path:"/login/callback",component:y["a"]},{path:"/profile",component:ae,meta:{requiresAuth:!0}}],le=Object(v["a"])({history:Object(v["b"])("/"),routes:ue});le.beforeEach(y["c"]);var se=le;n("ab8b"),n("3e48");Object(r["c"])(g).use(se).use(y["b"],{oktaAuth:K,onAuthRequired:function(){se.push("/login")},onAuthResume:function(){se.push("/login")}}).mount("#app")},"7ab5":function(e,t,n){},d64d:function(e,t,n){"use strict";n("7ab5")},e802:function(e,t,n){}});
//# sourceMappingURL=app.356adcad.js.map